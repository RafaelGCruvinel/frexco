(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(8),r=a.n(l),i=(a(15),a(16),a(17),a(18),a(2)),s=a(3),d=a(5),c=a(4),u=a(1),m=a(6),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).available_units=Object.keys(a.props.info.unidade),console.log(a.available_units),a.state={qtde:0,sum:0,unit_selected:a.available_units[0]},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"get_total_price",value:function(){return this.state.sum.toFixed(2)}},{key:"handleChange",value:function(e){console.log("handleChange");var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=this.state.qtde,o=t.name,l=0,r=this.state.unit_selected,i=this.props.info.unidade[r];console.log(o,a),"qtde"==o&&a<0&&(a=0,n=0),"qtde"==o&&(n=a,l=a*i),"unidade"==o&&(console.log("mudando unidade"),r=a,l=0,n=0,i=this.props.info.unidade[r]),console.log("####################",{qtde:n,sum:l,unit_selected:r}),this.setState({qtde:n,sum:l,unit_selected:r}),this.props.onProductQuantityChange(this.props.info.name,{sum:l,qtde:a,unidade:r,unit_price:i})}},{key:"available_units_options",value:function(){return this.available_units.map(function(e){return o.a.createElement("option",{key:e.name}," ",e," ")})}},{key:"render",value:function(){var e=this.state.unit_selected,t=this.props.info.unidade[e];return o.a.createElement("tr",null,o.a.createElement("td",{"data-th":"Product"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-sm-2 hidden-xs",hidden:!0},o.a.createElement("img",{src:"http://placehold.it/100x100",alt:"...",class:"img-responsive"})),o.a.createElement("div",{class:"col-sm-10"},o.a.createElement("h4",{class:"nomargin"},this.props.info.name)))),o.a.createElement("td",{"data-th":"Unidade"},o.a.createElement("select",{name:"unidade",class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleChange},this.available_units_options())),o.a.createElement("td",{"data-th":"Price"},"R$ ",t.toFixed(2)),o.a.createElement("td",{"data-th":"Quantity"},o.a.createElement("input",{name:"qtde",type:"number",class:"form-control text-center",min:"0",value:this.state.qtde,onChange:this.handleChange})),o.a.createElement("td",{"data-th":"Subtotal",class:"text-center"},"R$ ",this.get_total_price()))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(c.a)(t).call(this,e))).state={soma:0,productValues:{},products:{},restaurantName:""},a.productList=[{name:"Morango ",unidade:{kg:20,"ma\xe7o":2}},{name:"Piment\xe3o amarelo",unidade:{kg:10,tonelada:5e7}},{name:"Piment\xe3o verde",unidade:{"ma\xe7o":7}},{name:"Piment\xe3o vermelho",unidade:{kg:10}},{name:"Salsa Industrial*",unidade:{kg:2.5}},{name:"Tomate molho ",unidade:{kg:80}},{name:"Tomate salada",unidade:{kg:42}},{name:"Cebolinha*",unidade:{kg:.29}},{name:"Cenoura G",unidade:{kg:25}},{name:"Hortel\xe3",unidade:{kg:3}},{name:"Lim\xe3o Tahiti",unidade:{kg:9.5}},{name:"Manjeric\xe3o*",unidade:{kg:.3}},{name:"Melancia ",unidade:{kg:22.95}},{name:"Alface crespa",unidade:{kg:10.8}},{name:"Cebola",unidade:{kg:10}},{name:"Alface crespa",unidade:{kg:10.8}},{name:"Alface roxa",unidade:{kg:20}},{name:"Couve manteiga",unidade:{kg:7.2}},{name:"R\xfacula",unidade:{kg:17.6}},{name:"Agri\xe3o",unidade:{kg:9.4}},{name:"Repolho Verde ",unidade:{kg:11.6}},{name:"Repolho Roxo",unidade:{kg:0}},{name:"Abobrinha",unidade:{kg:1.6}},{name:"Beringela",unidade:{kg:6.6}},{name:"Ab\xf3bora kabotcha ",unidade:{kg:0}},{name:"Batata doce",unidade:{kg:6.5}},{name:"Batata boneca",unidade:{kg:24}},{name:"Cenoura",unidade:{kg:15}},{name:"Cebola",unidade:{kg:8}},{name:"Beterraba",unidade:{kg:10}},{name:"Tomate Salada",unidade:{kg:29.4}},{name:"Abacaxi",unidade:{kg:23.4}},{name:"Laranja",unidade:{kg:28}},{name:"Melancia ",unidade:{kg:1.35}}],console.log(a.productList[0]),a.handleProductQuantityChange=a.handleProductQuantityChange.bind(Object(u.a)(a)),a.onChangeRestaurantName=a.onChangeRestaurantName.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onChangeRestaurantName",value:function(e){console.log("onChangeRestaurantName");var t=e.target.value;console.log(t),this.setState({restaurantName:t})}},{key:"handleProductQuantityChange",value:function(e,t){var a=t.sum,n=t.qtde,o=t.unidade,l=t.unit_price;console.log("handleProductQuantityChange*************************",e,t),console.log(this.state);var r=Object.assign({},this.state.productValues);r[e]=a;var i=Object.assign({},this.state.products);i[e]={},i[e][o]=n,i[e]._unit_price=l,i[e]._preco_total=a,console.log(i),this.setState({soma:a,productValues:r,products:i})}},{key:"somaGeral",value:function(){var e=this.state.productValues;return Object.keys(e).reduce(function(t,a){return t+parseFloat(e[a]||0)},0).toFixed(2)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),console.log("mudou")}},{key:"handleSubmit",value:function(e){if(""!=this.state.restaurantName){var t=Object.assign({},this.state.products);t.Restaurante=this.state.restaurantName,t.Date=new Date,alert("Seu pedido \xe9: "+JSON.stringify(this.state.products)),console.log(t),fetch("https://frexco-ecdab.firebaseio.com/produtos.json",{method:"POST",body:JSON.stringify(t)}).then(function(e){e.ok?(alert("Tudo certo! :D"),console.log("Tudo certo!")):(alert("Ixi, algo deu errado.. verifique a internet e tente novamente."),console.log("Network response was not ok."),console.log(e))}).catch(function(e){console.log("There has been a problem with your fetch operation: "+e.message)}),e.preventDefault()}else alert("Prrencha o nome do Restaurante.")}},{key:"render_product_list",value:function(){var e=this;return this.productList.map(function(t){return o.a.createElement(h,{key:t.name,info:t,onProductQuantityChange:e.handleProductQuantityChange})})}},{key:"render",value:function(){var e=this.somaGeral();return o.a.createElement("p",{style:{alignItems:"center"}},o.a.createElement("div",{class:"container"},o.a.createElement("br",null),o.a.createElement("strong",null,"Restaurante: "),o.a.createElement("input",{type:"text",name:"Restaurante",onChange:this.onChangeRestaurantName}),o.a.createElement("br",null),o.a.createElement("table",{id:"cart",class:"table table-hover table-condensed"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:"40%"}},"Produto"),o.a.createElement("th",{style:{width:"10%"}},"Unidade"),o.a.createElement("th",{style:{width:"20%"}},"Pre\xe7o"),o.a.createElement("th",{style:{width:"18%"}},"Quantidade"),o.a.createElement("th",{style:{width:"22%"},class:"text-center"},"Subtotal"))),o.a.createElement("tbody",null,this.render_product_list()),o.a.createElement("tfoot",null,o.a.createElement("tr",{class:"visible-xs",hidden:!0},o.a.createElement("td",{class:"text-center"},o.a.createElement("strong",null,"Total R$ ",o.a.createElement("span",{id:"total"},e)))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("a",{href:"#",onClick:this.handleSubmit,class:"btn btn-warning"},o.a.createElement("i",{class:"fa fa-angle-left"})," Enviar pedido")),o.a.createElement("td",{colspan:"2",class:"hidden-xs"}),o.a.createElement("td",{class:"hidden-xs text-center"},o.a.createElement("strong",null,"Total R$ ",e)),o.a.createElement("td",null,o.a.createElement("a",{href:"#",class:"btn btn-success btn-block",hidden:!0},"Checkout ",o.a.createElement("i",{class:"fa fa-angle-right"}))))))))}}]),t}(n.Component);var p=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null," Frexco ")),o.a.createElement("body",null,o.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.b9ffec8d.chunk.js.map