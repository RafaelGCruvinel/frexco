(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,n){},17:function(e,a,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},18:function(e,a,n){},19:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),i=n(8),d=n.n(i),l=(n(15),n(16),n(17),n(18),n(2)),r=n(3),s=n(5),u=n(4),c=n(1),m=n(6),h=function(e){function a(e){var n;return Object(l.a)(this,a),(n=Object(s.a)(this,Object(u.a)(a).call(this,e))).available_units=Object.keys(n.props.info.unidade),console.log(n.available_units),n.state={qtde:0,sum:0,unit_selected:n.available_units[0]},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(m.a)(a,e),Object(r.a)(a,[{key:"get_total_price",value:function(){return this.state.sum.toFixed(2)}},{key:"handleChange",value:function(e){console.log("handleChange");var a=e.target,n="checkbox"===a.type?a.checked:a.value,t=this.state.qtde,o=a.name,i=0,d=this.state.unit_selected,l=this.props.info.unidade[d];console.log(o,n),"qtde"==o&&n<0&&(n=0,t=0),"qtde"==o&&(t=n,i=n*l),"unidade"==o&&(console.log("mudando unidade"),d=n,i=0,t=0,l=this.props.info.unidade[d]),console.log("####################",{qtde:t,sum:i,unit_selected:d}),this.setState({qtde:t,sum:i,unit_selected:d}),this.props.onProductQuantityChange(this.props.info.name,{sum:i,qtde:n,unidade:d,unit_price:l})}},{key:"available_units_options",value:function(){return this.available_units.map(function(e){return o.a.createElement("option",{key:e.name}," ",e," ")})}},{key:"render",value:function(){var e=this.state.unit_selected,a=this.props.info.unidade[e];return o.a.createElement("tr",null,o.a.createElement("td",{"data-th":"Product"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-sm-2 hidden-xs",hidden:!0},o.a.createElement("img",{src:"http://placehold.it/100x100",alt:"...",class:"img-responsive"})),o.a.createElement("div",{class:"col-sm-10"},o.a.createElement("h4",{class:"nomargin"},this.props.info.name),o.a.createElement("p",null,this.props.info.info)))),o.a.createElement("td",{"data-th":"Unidade"},o.a.createElement("select",{name:"unidade",class:"form-control",id:"exampleFormControlSelect1",onChange:this.handleChange},this.available_units_options())),o.a.createElement("td",{"data-th":"Price"},"R$ ",a.toFixed(2)),o.a.createElement("td",{"data-th":"Quantity"},o.a.createElement("input",{name:"qtde",type:"number",class:"form-control text-center",min:"0",value:this.state.qtde,onChange:this.handleChange})),o.a.createElement("td",{"data-th":"Subtotal",class:"text-center"},"R$ ",this.get_total_price()))}}]),a}(t.Component),g=function(e){function a(e){var n;return Object(l.a)(this,a),(n=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={soma:0,productValues:{},products:{},restaurantName:""},n.productList=[{name:"Acelga",info:"",unidade:{kg:2.5,"CX 8UNI(12KG)":30}},{name:"Agri\xe3o",info:"",unidade:{"m\xe7":2.35,"CX 12M\xc7":28.2}},{name:"Alecrim",info:"ma\xe7o com 150G",unidade:{"m\xe7":2}},{name:"Alface americana",info:"",unidade:{kg:4.15,"CX 12UNI (8KG)":33.2}},{name:"Alface crespa",info:"",unidade:{kg:3.8,"CX 18UNI (5KG)":19}},{name:"Alface crespa roxa",info:"",unidade:{kg:6,"CX18UNI (6KG)":36}},{name:"Alho poro",info:"",unidade:{unidade:3.5,"MA\xc7O 6 UNI":21}},{name:"Br\xf3colis",info:"",unidade:{kg:13.5,"CX 8UNI (3KG)":40.5}},{name:"Cebolinha",info:"M\xc7 1,5KG INDUATRIAL OU M\xc7 150KG",unidade:{kg:5.5}},{name:"Coentro",info:"M\xc7 400G",unidade:{"m\xe7":6}},{name:"Couve",info:"M\xc7 6 FOLHAS",unidade:{"m\xe7":1.6}},{name:"Couve flor",info:"",unidade:{Kg:14.3,"CX 8UNI (3KG)":42.9}},{name:"Escarola",info:"",unidade:{kg:4,"CX 18UNI (5KG)":20}},{name:"Espinafre",info:"M\xc7 350G",unidade:{"m\xe7":3.5}},{name:"Hortel\xe3",info:"M\xc7 150G",unidade:{kg:13}},{name:"Manjeric\xe3o",info:"M\xc7 150G",unidade:{kg:13}},{name:"Rabanete",info:"PCT 800G",unidade:{kg:3.5}},{name:"Repolho roxo",info:"",unidade:{kg:3.9,"CX 12UNI (18KG)":70.2}},{name:"Repolho verde",info:"",unidade:{kg:2.5,"CX 12UNI (18KG)":45}},{name:"R\xfacula",info:"",unidade:{"m\xe7":2.35,"CX 12UNI":28.2}},{name:"Salsa",info:"M\xc7 INDUSTRIAL 2,5KG OU M\xc7 150G",unidade:{kg:6}},{name:"Abacaxi pequeno",info:"aprox. 1,3kg",unidade:{unidade:3.8}},{name:"Banana nanica",info:"",unidade:{kg:1.95,"CX 20KG OU 160UNI":39}},{name:"Banana prata",info:"",unidade:{kg:2.1,"CX 20KG OU 160UNI":42}},{name:"Laranja",info:"",unidade:{kg:1.45,"CX 20KG OU 140UNI":29}},{name:"Lim\xe3o tahiti",info:"",unidade:{kg:2.3,"SACO 20KG":46}},{name:"Ma\xe7\xe3",info:"",unidade:{kg:4.5,"CX 18KG OU 165 UNI":81}},{name:"Manga tommy",info:"",unidade:{unidade:2.4,"CX 20UNI":48}},{name:"Maracuja",info:"",unidade:{kg:4.95,CX10KG:49.5}},{name:"Melancia",info:"",unidade:{kg:1.4,"UNI 9KG":12.6}},{name:"Mel\xe3o",info:"",unidade:{unidade:3.6,CX12UNI:43.2}},{name:"Morango",info:"CX 4 BANDEJA 250G",unidade:{kg:6}},{name:"Abobrinha It\xe1lia",info:"",unidade:{kg:2.9}},{name:"Batata bolinha",info:"",unidade:{kg:4,"SACO 25KG":100}},{name:"Batata boneca",info:"",unidade:{kg:3,"SACO 50KG":150}},{name:"Batata doce",info:"",unidade:{kg:2,"CX 20KG":40}},{name:"Batata gra\xfada",info:"",unidade:{kg:4,"SACO 50KG":200}},{name:"Beringela",info:"",unidade:{kg:2.3,"CX 12 KG":27.6}},{name:"Beterraba",info:"",unidade:{kg:2.9,"CX 20KG":58}},{name:"Cebola",info:"",unidade:{kg:2.8,"SACO 20KG":56}},{name:"Cebola roxa",info:"",unidade:{kg:4.8,"SACO 20KG":96}},{name:"Cenoura",info:"",unidade:{kg:3.3,"CX 20 KG":66}},{name:"Chuchu",info:"",unidade:{kg:2.5,"CX 18KG":45}},{name:"Inhame",info:"",unidade:{kg:5,"CX 18KG":90}},{name:"Mandioquinha",info:"",unidade:{kg:6.5,"CX 10KG":65}},{name:"Pepino japon\xeas",info:"",unidade:{kg:2.2,"CX 18KG":39.6}},{name:"Piment\xe3o amarelo",info:"",unidade:{kg:8.5,"CX 10KG":85}},{name:"Piment\xe3o verde",info:"",unidade:{kg:3.5,"CX 10KG":35}},{name:"Piment\xe3o vermelho",info:"",unidade:{kg:6,"CX 10KG":60}},{name:"Quiabo",info:"",unidade:{kg:6.2,"CX 10KG":62}},{name:"Tomate cereja",info:"BANDEIJA 250G",unidade:{kg:3.5}},{name:"Tomate molho",info:"",unidade:{kg:3.8,"CX 20KG":76}},{name:"Tomate salada",info:"",unidade:{kg:4.2,"CX 20KG":84}},{name:"Vagem",info:"",unidade:{kg:7,"CX 10KG":70}},{name:"Alho descascado",info:"PACOTE 1KG",unidade:{kg:15}},{name:"Gengibre",info:"",unidade:{kg:5,"CX 10KG":50}},{name:"Ovos brancos",info:"CARTELA COM 30 OVOS",unidade:{ct:11}}],console.log(n.productList[0]),n.handleProductQuantityChange=n.handleProductQuantityChange.bind(Object(c.a)(n)),n.onChangeRestaurantName=n.onChangeRestaurantName.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(m.a)(a,e),Object(r.a)(a,[{key:"onChangeRestaurantName",value:function(e){console.log("onChangeRestaurantName");var a=e.target.value;console.log(a),this.setState({restaurantName:a})}},{key:"handleProductQuantityChange",value:function(e,a){var n=a.sum,t=a.qtde,o=a.unidade,i=a.unit_price;console.log("handleProductQuantityChange*************************",e,a),console.log(this.state);var d=Object.assign({},this.state.productValues);d[e]=n;var l=Object.assign({},this.state.products);l[e]={},l[e][o]=t,l[e]._unit_price=i,l[e]._preco_total=n,console.log(l),this.setState({soma:n,productValues:d,products:l})}},{key:"somaGeral",value:function(){var e=this.state.productValues;return Object.keys(e).reduce(function(a,n){return a+parseFloat(e[n]||0)},0).toFixed(2)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),console.log("mudou")}},{key:"handleSubmit",value:function(e){if(""!=this.state.restaurantName){var a=Object.assign({},this.state.products);a.Restaurante=this.state.restaurantName,a.Date=new Date,alert("Seu pedido \xe9: "+JSON.stringify(this.state.products)),console.log(a),fetch("https://frexco-ecdab.firebaseio.com/produtos.json",{method:"POST",body:JSON.stringify(a)}).then(function(e){e.ok?(alert("Tudo certo! :D"),console.log("Tudo certo!")):(alert("Ixi, algo deu errado.. verifique a internet e tente novamente."),console.log("Network response was not ok."),console.log(e))}).catch(function(e){console.log("There has been a problem with your fetch operation: "+e.message)}),e.preventDefault()}else alert("Prrencha o nome do Restaurante.")}},{key:"render_product_list",value:function(){var e=this;return this.productList.map(function(a){return o.a.createElement(h,{key:a.name,info:a,onProductQuantityChange:e.handleProductQuantityChange})})}},{key:"render",value:function(){var e=this.somaGeral();return o.a.createElement("p",{style:{alignItems:"center"}},o.a.createElement("div",{class:"container"},o.a.createElement("br",null),o.a.createElement("strong",null,"Restaurante: "),o.a.createElement("input",{type:"text",name:"Restaurante",onChange:this.onChangeRestaurantName}),o.a.createElement("br",null),o.a.createElement("table",{id:"cart",class:"table table-hover table-condensed"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:"30%"}},"Produto"),o.a.createElement("th",{style:{width:"20%"}},"Unidade"),o.a.createElement("th",{style:{width:"20%"}},"Pre\xe7o"),o.a.createElement("th",{style:{width:"18%"}},"Quantidade"),o.a.createElement("th",{style:{width:"22%"},class:"text-center"},"Subtotal"))),o.a.createElement("tbody",null,this.render_product_list()),o.a.createElement("tfoot",null,o.a.createElement("tr",{class:"visible-xs",hidden:!0},o.a.createElement("td",{class:"text-center"},o.a.createElement("strong",null,"Total R$ ",o.a.createElement("span",{id:"total"},e)))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("a",{href:"#",onClick:this.handleSubmit,class:"btn btn-warning"},o.a.createElement("i",{class:"fa fa-angle-left"})," Enviar pedido")),o.a.createElement("td",{colspan:"2",class:"hidden-xs"}),o.a.createElement("td",{class:"hidden-xs text-center"},o.a.createElement("strong",null,"Total R$ ",e)),o.a.createElement("td",null,o.a.createElement("a",{href:"#",class:"btn btn-success btn-block",hidden:!0},"Checkout ",o.a.createElement("i",{class:"fa fa-angle-right"}))))))))}}]),a}(t.Component);var f=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null," Frexco ")),o.a.createElement("body",null,o.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,a,n){e.exports=n(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.48f161c1.chunk.js.map